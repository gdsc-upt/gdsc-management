@using GdscManagement.Common.Features.Users
@using GdscManagement.Pages.Shared.Components
@using GdscManagement.Features.Base
@typeparam T where T: IViewModel

<MudPaper Class="pa-4 mt-5 d-flex">
    <AuthorizeView Roles="@Roles.Admin">
        <Authorized>
            <ErrorButton
                Tooltip="Select items to delete"
                Disabled="@(SelectedItems.Count == 0)"
                Icon="fa-dumpster">
            </ErrorButton>

            <MudSpacer></MudSpacer>

            <PrimaryButton
                Text="New user"
                Href="/users#add"
                Tooltip="Add new example">
            </PrimaryButton>
        </Authorized>

        <NotAuthorized>
            <ErrorButton
                Tooltip="Only admins can delete"
                Disabled="true"
                Icon="fa-dumpster">
            </ErrorButton>

            <MudSpacer></MudSpacer>

            <PrimaryButton
                Text="Open add page"
                Disabled="true"
                Tooltip="Only admins can add">
            </PrimaryButton>
        </NotAuthorized>
    </AuthorizeView>
</MudPaper>

@code {

    [Parameter]
    public HashSet<T> SelectedItems { get; set; } = new();

}
